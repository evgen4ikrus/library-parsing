# library-parsing
Набор скриптов для парсинга онлайн библиотеки [tululu](https://tululu.org/), скачивания книг и информации о них с библиотеки. Создает офлайн библиотеку из полученных данных. Пример библиотеки на [GitHub Pages](https://evgen4ikrus.github.io/library-parsing/pages/index3.html)
![image](https://user-images.githubusercontent.com/67272160/187503357-c7b49063-b1c2-43ab-adff-10cd293acafb.png)

### Установка
Для работы скриптов вам понадобится Python третьей версии.

Скачайте код с GitHub. Затем установите зависимости:

```sh
pip install -r requirements.txt
```
### Скрипты для скачивания книг:
#### parse_tululu.py
Запуск:
```
python parse_tululu.py
```
Скрипт будет скачивать книги в папку 'books' и обложки книг в папку 'covers' (по умолчанию с 1 по 10).

Вы можете скачать определенный диапазон книг в зависимости от их id, передав дополнительные параметры, например:
``` python
python parse_tululu.py --start_id=5 --end_id=25
# скачаются книги с 5 по 25
```
Примечание: не все книги есть на сайте, некоторые скачать не получится.
#### parse_tululu_category.py
Скрипт скачивает книги страницами по определеннй категории.
Запуск 
``` python
python parse_tululu_category.py
# Скрипт скачает все книги в категории "Научная фантастика"
```

Опциональные аргументы:
```
--category_id # Указать ID категории книг (Дефолдное значени: 55)
--start_page # С какой страницы начать скачивание книг (Дефолтное значение: 1) 
--end_page # До какой страницы скачивать книги (Дефолтное значение: до последней страницы) 
--dest_folder # Путь к каталогу с результатами парсинга: картинкам, книгам, JSON. (Дефолтное значение: media)
--json_path # указать свой путь к *.json файлу с результатами (Дефолтное значение: media)
--skip_imgs # Не скачивать картинки  
--skip_txt # Не скачивать книги 
```
Пример запуска с аргументами:
``` python
python parse_tululu_category.py --category_id=5 --start_page=5 --end_page=10 --skip_imgs
# Скачаются книги с 5 до 10 страниц в катагории "Биографии и мемуары". Картинки не скачаются.
```
### Создание офлайн библиотеки
#### render_website.py
Для создания скачивания книг, обложек и информации о книгах нужно использовать скрипт parse_tululu_category.py (см. выше)

Для создания офлайн библиотеки необходимо выполните:
```
python render_website.py
```
Офлайн библиотека будет храниться по адресу [корень проекта]/pages
